.. _rm-example-refactor-claim-litigation-domain:

======================================
Refactor the Claim & Litigation Domain
======================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

About this Task 
---------------

Steps 
-----

.. procedure:: 
   :style: normal

   .. step:: From the MongoDB view, click the claim collection

      On the right side of the screen, the :guilabel:`Mappings` menu opens.

   .. step:: Embed the claim_party_role table 

      Next to :guilabel:`Mappings to MongoDB Model`, click :guilabel:`Add`. 
      Click :guilabel:`Embedded array` and select :guilabel:`claim_party_role` 
      from the :guilabel:`Source table` drop-down menu. 
      
      Under the :guilabel:`All fields` checkbox, deselect the 
      ``claimIdentifier`` field and click :guilabel:`Save and close`.

   .. step:: Embed the insurable_object table under the claim collection 

      Next to :guilabel:`Mappings to MongoDB Model`, click :guilabel:`Add` and 
      select :guilabel:`Embedded diocuments`. Choose 
      :guilabel:`insurable_object` from the :guilabel:`Source table` drop-down 
      menu. 
      
      Click :guilabel:`Save and close`.

   .. step:: Embed the policy_coverage_detail table within insurableObject 

      Next to :guilabel:`Mappings to MongoDB Model`, click
      :guilabel:`Add` and select :guilabel:`Embedded array`. Choose
      :guilabel:`policy_coverage_detail` from the :guilabel:`Source table`
      drop-down menu.

      Under the :guilabel:`All fields` checkbox, deselect the 
      ``insurableObjectIdentifier`` field, and click 
      :guilabel:`Save and close`.

Learn More
----------
